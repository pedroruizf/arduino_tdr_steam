<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>Reto 17 Control de turno (pulsadores y LCD) | Arduino+TDR-Steam </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Pedro Ruiz Fernández" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.6 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-39"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">Arduino+TDR-Steam</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Sistemas de control automáticos programados con Arduino + TDR-Steam</a></li>
   <li><a href="elementos_y_tipos.html" class="no-ch">Elementos y tipos</a></li>
   <li><a href="elemento_de_control.html" class="no-ch">Elemento de control</a></li>
   <li><a href="ide_de_arduino.html" class="no-ch">IDE de Arduino</a></li>
   <li><a href="salidas_digitales_y_bucles.html" class="daddy">Salidas digitales y bucles</a>
   <ul class="other-section">
      <li><a href="reto_01_led_parpadeante_mi_primer_programa.html" class="no-ch">Reto 01 Led parpadeante (mi primer programa)</a></li>
      <li><a href="reto_02_dos_leds_parpadeantes_variables.html" class="no-ch">Reto 02 Dos Leds parpadeantes (variables)</a></li>
      <li><a href="reto_03_secuencia_de_leds_bucle_for.html" class="no-ch">Reto 03 Secuencia de leds (bucle for)</a></li>
      <li><a href="reto_04_secuencia_de_leds_bucle_while_y_funciones.html" class="no-ch">Reto 04 Secuencia de leds (bucle while y funciones)</a></li>
      <li><a href="reto_05_sos_con_zumbador.html" class="no-ch">Reto 05 SOS con zumbador</a></li>
      <li><a href="reto_06_meloda_con_piezo_elctrico.html" class="no-ch">Reto 06 Melodía con Piezo eléctrico</a></li>
   </ul>
   </li>
   <li><a href="entradas_digitales_condicionales_y_monitor_serie.html" class="daddy">Entradas digitales, condicionales y monitor serie</a>
   <ul class="other-section">
      <li><a href="reto_07_secuencia_de_leds_con_pulsador_condicionales_y_monitor_serie.html" class="no-ch">Reto 07 Secuencia de leds con pulsador (condicionales y monitor serie)</a></li>
      <li><a href="reto_08_encendido_y_apagado_de_led_con_dos_pulsadores.html" class="no-ch">Reto 08 Encendido y apagado de led con dos pulsadores</a></li>
      <li><a href="retos_09_ab_encendido_y_apagado_de_led_con_operadores_lgicos.html" class="no-ch">Retos 09 (a,b) Encendido y apagado de led con operadores lógicos</a></li>
   </ul>
   </li>
   <li><a href="salidas_pwm_analgicas.html" class="daddy">Salidas PWM (analógicas)</a>
   <ul class="other-section">
      <li><a href="reto_10_intensidad_de_led_rgb.html" class="no-ch">Reto 10 Intensidad de led RGB</a></li>
      <li><a href="reto_11_intensidad_de_led_rgb_con_pulsador.html" class="no-ch">Reto 11 Intensidad de led RGB con pulsador</a></li>
      <li><a href="reto_12_color_aleatorio_con_led_rgb.html" class="no-ch">Reto 12 Color Aleatorio con Led RGB</a></li>
   </ul>
   </li>
   <li><a href="entradas_analgicas.html" class="daddy">Entradas analógicas</a>
   <ul class="other-section">
      <li><a href="reto_13_interruptor_crepuscular_por_umbral.html" class="no-ch">Reto 13 Interruptor crepuscular por umbral</a></li>
      <li><a href="reto_14_interruptor_crepuscular_progresivo.html" class="no-ch">Reto 14 Interruptor crepuscular progresivo</a></li>
      <li><a href="reto_15_control_de_leds_con_potencimetro.html" class="no-ch">Reto 15 Control de leds con potenciómetro</a></li>
      <li><a href="reto_16_potencimetro_y_rgb.html" class="no-ch">Reto 16 Potenciómetro y RGB</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="libreras_lcd_lm35_y_dht11.html" class="current-page-parent daddy">Librerías. LCD, LM35 y DHT11</a>
   <ul>
      <li id="active"><a href="reto_17_control_de_turno_pulsadores_y_lcd.html" class="active no-ch">Reto 17 Control de turno (pulsadores y LCD)</a></li>
      <li><a href="reto_18_temperatura_con_lm35.html" class="no-ch">Reto 18 Temperatura con LM35</a></li>
      <li><a href="reto_19_temperatura_y_humedad_con_dht11.html" class="no-ch">Reto 19 Temperatura y Humedad con DHT11</a></li>
      <li><a href="reto_20_temperatura_y_rgb.html" class="no-ch">Reto 20 Temperatura y RGB</a></li>
   </ul>
   </li>
   <li><a href="fuentes.html" class="no-ch">Fuentes</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="libreras_lcd_lm35_y_dht11.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="reto_18_temperatura_con_lm35.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">Reto 17 Control de turno (pulsadores y LCD)</h1></header>
<article class="iDevice_wrapper pblIdevice em_iDevice em_iDevice_activity" id="id52">
<div class="iDevice emphasis1" >
<header class="iDevice_header"><h1 class="iDeviceTitle">Tarea</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta52_168_2" class="block iDevice_content">
<dl class="pbl-task-info"><dt class="pbl-task-duration"><span>Duración:</span></dt><dd class="pbl-task-duration">30</dd><dt class="pbl-task-participants"><span>Agrupamiento:</span></dt><dd class="pbl-task-participants">1</dd></dl><div class="pbl-task-description"><p>Se trata de un control de turno para ello tenemos dos pulsadores SW1 (entrada digital 2) y SW2 (entrada digital 7) y una pantalla LCD 16x2 (16 columnas y 2 filas) para mostrar el turno actual. Si se pulsa el pulsador SW1 el turno avanza en uno, si se pulsa el pulsador SW2 el turno retrocede en uno. EL turno no puede ser un número negativo.</p>
<p> Objetivos:</p>
<ul>
<li>Inclusión y uso de librerías en programas.</li>
<li>Repaso de condicionales.</li>
<li>Repaso de funciones.</li>
<li>Repaso de entradas digitales.</li>
</ul></div><div class="iDevice_buttons feedback-button js-required"><input type="button" class="feedbackbutton" value="Mostrar retroalimentación" /></div><div class="feedback js-feedback js-hidden"><p>Código:</p>
<p><code>#include &lt;Wire.h&gt; //llama a la librería Wire</code></p>
<p><code>#include "ABlocks_LiquidCrystal_I2C.h" //llama a la librería LiquidCrystal_I2C</code></p>
<p></p>
<p><code>int turno = 0;</code></p>
<p><code>int SW1 = 2;</code></p>
<p><code>int SW2 = 7;</code></p>
<p></p>
<p><code>LiquidCrystal_I2C lcd_1(0x27, 16, 2); //configura una pantalla LCD llamada lcd_1 indidicando su tamaño 16x2</code></p>
<p></p>
<p><code>void setup()</code></p>
<p><code>{</code></p>
<p><code>  pinMode (SW1, INPUT);</code></p>
<p><code>  pinMode (SW2, OUTPUT);</code></p>
<p><code>  lcd_1.begin();//inicializa la pantalla</code></p>
<p><code>  lcd_1.noCursor();//quita la visualización del cursor</code></p>
<p><code>  lcd_1.backlight();//ilumina el fondo de pantalla</code></p>
<p><code>  pintaPantalla();</code></p>
<p><code>}</code></p>
<p></p>
<p></p>
<p><code>void loop()</code></p>
<p><code>{</code></p>
<p><code>  if (digitalRead (SW1) == HIGH) {</code></p>
<p><code>    turno = turno + 1;</code></p>
<p><code>    delay (300);</code></p>
<p><code>    pintaPantalla();</code></p>
<p><code>  }</code></p>
<p></p>
<p><code>  if (digitalRead (SW2) == HIGH) {</code></p>
<p><code>    turno = turno - 1;</code></p>
<p><code>    delay (300);</code></p>
<p><code>    pintaPantalla();</code></p>
<p><code>  }</code></p>
<p></p>
<p><code>  if (turno &lt; 0) {</code></p>
<p><code>    turno = 0;</code></p>
<p><code>    pintaPantalla();</code></p>
<p><code>  }</code></p>
<p></p>
<p><code>}</code></p>
<p></p>
<p><code>void pintaPantalla () {</code></p>
<p><code>  lcd_1.clear();</code></p>
<p><code>  lcd_1.setCursor(0, 0);//pone el cursor en columna o y fila 0 (arriba a la izquierda)</code></p>
<p><code>  lcd_1.print("Turno: ");//escribe texto en pantalla</code></p>
<p><code>  lcd_1.setCursor(6, 0);</code></p>
<p><code>  lcd_1.print(turno);//escribe en pantalla la variable turno</code></p>
<p></p>
<p><code>}</code></p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper FileAttachIdeviceInc em_iDevice em_iDevice_assignment" id="id70">
<div class="iDevice emphasis1" >
<header class="iDevice_header"><h1 class="iDeviceTitle">Ficheros adjuntos</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta70_82" class="block iDevice_content">

</div>
<ul class='exeFileList'><li><a href='reto17.ino' target='_blank'>reto17.ino<span> (Ventana nueva)</span></a></li>
</ul></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="libreras_lcd_lm35_y_dht11.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="reto_18_temperatura_con_lm35.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<footer id="siteFooter">Por: Pedro Ruiz Fernández</footer></div>
<script type="text/javascript" src="_style_js.js"></script></body></html>